import{a as p}from"./axios-21b846bc.js";import{_ as u,g as f,a as _,c as h,b as e,w as g,h as d,v as c,i as b,j as v,k as w,p as U,f as k}from"./index-cf14ba4d.js";const x={name:"Nuevo",data(){return{form:{nombre:null,foto:null,descripcion:null,edad:null}}},methods:{async guardar(){try{const s=await this.convertImageToBase64(this.form.foto),o={nombre:this.form.nombre,foto:s,descripcion:this.form.descripcion,edad:this.form.edad},l=await p.post("https://www.networkrooms.somee.com/api/Users",o,{headers:{"Content-Type":"application/json"}});console.log(l),this.$router.push("/personas")}catch(s){console.error(s)}},handleFileUpload(s){const o=s.target.files[0];this.form.foto=o},convertImageToBase64(s){return new Promise((o,l)=>{const n=new FileReader;n.onloadend=()=>{o(n.result.split(",")[1])},n.onerror=l,n.readAsDataURL(s)})}}},a=s=>(U("data-v-8429211c"),s=s(),k(),s),y={class:"register"},B={class:"form"},C=a(()=>e("h1",{class:"title"},"Registrar Usuario",-1)),I={class:"form-group"},V=a(()=>e("label",{class:"form-label"},"Nombre",-1)),F={class:"form-group"},N=a(()=>e("label",{class:"form-label"},"Foto",-1)),R={class:"form-group"},T=a(()=>e("label",{class:"form-label"},"DescripciÃ³n",-1)),q={class:"form-group"},S=a(()=>e("label",{class:"form-label"},"Edad",-1)),D={class:"form-actions"};function j(s,o,l,n,t,i){const m=f("router-link");return _(),h("div",y,[e("div",B,[C,e("form",{onSubmit:o[5]||(o[5]=g((...r)=>s.register&&s.register(...r),["prevent"]))},[e("div",I,[V,d(e("input",{"onUpdate:modelValue":o[0]||(o[0]=r=>t.form.nombre=r),class:"form-input",required:""},null,512),[[c,t.form.nombre]])]),e("div",F,[N,e("input",{type:"file",onChange:o[1]||(o[1]=(...r)=>i.handleFileUpload&&i.handleFileUpload(...r)),class:"form-input",required:""},null,32)]),e("div",R,[T,d(e("input",{"onUpdate:modelValue":o[2]||(o[2]=r=>t.form.descripcion=r),class:"form-input",required:""},null,512),[[c,t.form.descripcion]])]),e("div",q,[S,d(e("input",{"onUpdate:modelValue":o[3]||(o[3]=r=>t.form.edad=r),class:"form-input",required:""},null,512),[[c,t.form.edad]])]),e("div",D,[e("button",{class:"form-submit",onClick:o[4]||(o[4]=(...r)=>i.guardar&&i.guardar(...r))},"Guardar"),b(m,{to:"/personas",class:"form-link cancel-btn"},{default:v(()=>[w("Cancelar")]),_:1})])],32)])])}const A=u(x,[["render",j],["__scopeId","data-v-8429211c"]]);export{A as default};
