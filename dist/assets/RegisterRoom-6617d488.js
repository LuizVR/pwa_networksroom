import{a as u}from"./axios-21b846bc.js";import{_ as m,g as f,a as _,c as v,b as e,w as h,h as c,v as d,i as g,j as b,k as w,p as k,f as R}from"./index-cf14ba4d.js";const U={name:"Nuevo",data(){return{form:{direccion:null,foto:null,precio:null,descripcion:null,servicios:null}}},methods:{async guardar(){try{const s=await this.convertImageToBase64(this.form.foto),o={direccion:this.form.direccion,foto:s,precio:this.form.precio,descripcion:this.form.descripcion,servicios:this.form.servicios},n=await u.post("https://www.networkrooms.somee.com/api/Room",o,{headers:{"Content-Type":"application/json"}});console.log(n),this.$router.push("/about")}catch(s){console.error(s)}},handleFileUpload(s){const o=s.target.files[0];this.form.foto=o},convertImageToBase64(s){return new Promise((o,n)=>{const l=new FileReader;l.onloadend=()=>{o(l.result.split(",")[1])},l.onerror=n,l.readAsDataURL(s)})}}},i=s=>(k("data-v-32333a9d"),s=s(),R(),s),C={class:"register"},V={class:"form"},x=i(()=>e("h1",{class:"title"},"Registrar Cuarto",-1)),y={class:"form-group"},B=i(()=>e("label",{class:"form-label"},"Direccion",-1)),I={class:"form-group"},q=i(()=>e("label",{class:"form-label"},"Foto",-1)),F={class:"form-group"},S=i(()=>e("label",{class:"form-label"},"Precio",-1)),T={class:"form-group"},D=i(()=>e("label",{class:"form-label"},"DescripciÃ³n",-1)),N={class:"form-group"},j=i(()=>e("label",{class:"form-label"},"Servicios",-1)),M={class:"form-actions"};function P(s,o,n,l,t,a){const p=f("router-link");return _(),v("div",C,[e("div",V,[x,e("form",{onSubmit:o[6]||(o[6]=h((...r)=>s.register&&s.register(...r),["prevent"]))},[e("div",y,[B,c(e("input",{"onUpdate:modelValue":o[0]||(o[0]=r=>t.form.direccion=r),class:"form-input",required:""},null,512),[[d,t.form.direccion]])]),e("div",I,[q,e("input",{type:"file",onChange:o[1]||(o[1]=(...r)=>a.handleFileUpload&&a.handleFileUpload(...r)),class:"form-input",required:""},null,32)]),e("div",F,[S,c(e("input",{"onUpdate:modelValue":o[2]||(o[2]=r=>t.form.precio=r),class:"form-input",required:""},null,512),[[d,t.form.precio]])]),e("div",T,[D,c(e("input",{"onUpdate:modelValue":o[3]||(o[3]=r=>t.form.descripcion=r),class:"form-input",required:""},null,512),[[d,t.form.descripcion]])]),e("div",N,[j,c(e("input",{"onUpdate:modelValue":o[4]||(o[4]=r=>t.form.servicios=r),class:"form-input",required:""},null,512),[[d,t.form.servicios]])]),e("div",M,[e("button",{class:"form-submit",onClick:o[5]||(o[5]=(...r)=>a.guardar&&a.guardar(...r))},"Guardar"),g(p,{to:"/about",class:"form-link cancel-btn"},{default:b(()=>[w("Cancelar")]),_:1})])],32)])])}const G=m(U,[["render",P],["__scopeId","data-v-32333a9d"]]);export{G as default};
